Version 4
SHEET 1 3748 11828
WIRE 272 -688 -352 -688
WIRE -672 -656 -672 -688
WIRE -672 -656 -848 -656
WIRE -848 -640 -848 -656
WIRE -672 -624 -672 -656
WIRE -720 -608 -752 -608
WIRE 48 -608 -32 -608
WIRE 48 -576 48 -608
WIRE 48 -576 32 -576
WIRE -848 -544 -848 -560
WIRE -752 -544 -752 -608
WIRE -752 -544 -848 -544
WIRE -848 -512 -848 -544
WIRE -672 -496 -672 -528
WIRE -368 -496 -672 -496
WIRE -32 -496 -32 -608
WIRE -32 -496 -368 -496
WIRE -1008 -464 -1088 -464
WIRE -912 -464 -928 -464
WIRE -288 -448 -512 -448
WIRE -32 -448 -32 -496
WIRE -32 -448 -64 -448
WIRE 32 -400 32 -496
WIRE 32 -400 -16 -400
WIRE -288 -384 -416 -384
WIRE -16 -384 -16 -400
WIRE -16 -384 -64 -384
WIRE -352 -320 -352 -688
WIRE -288 -320 -352 -320
WIRE 32 -320 -64 -320
WIRE -368 -256 -368 -496
WIRE -288 -256 -368 -256
WIRE -48 -256 -64 -256
WIRE -416 -208 -416 -384
WIRE 32 -208 32 -320
WIRE 32 -208 -416 -208
WIRE -416 -192 -416 -208
WIRE -48 -176 -48 -256
WIRE -848 -112 -848 -416
WIRE -512 -112 -512 -448
WIRE -512 -112 -848 -112
WIRE -416 -112 -416 -128
WIRE -416 -112 -512 -112
WIRE -48 -112 -416 -112
WIRE -416 -64 -416 -112
WIRE 272 -32 -352 -32
WIRE -672 0 -672 -32
WIRE -672 0 -848 0
WIRE -848 16 -848 0
WIRE -672 32 -672 0
WIRE -720 48 -752 48
WIRE 48 48 -32 48
WIRE 48 80 48 48
WIRE 48 80 32 80
WIRE -848 112 -848 96
WIRE -752 112 -752 48
WIRE -752 112 -848 112
WIRE 704 128 672 128
WIRE -848 144 -848 112
WIRE -672 160 -672 128
WIRE -368 160 -672 160
WIRE -32 160 -32 48
WIRE -32 160 -368 160
WIRE 1136 176 1088 176
WIRE -1088 192 -1088 -464
WIRE -1008 192 -1088 192
WIRE -912 192 -928 192
WIRE 1248 192 1200 192
WIRE -288 208 -512 208
WIRE -32 208 -32 160
WIRE -32 208 -64 208
WIRE 1136 208 1024 208
WIRE 1248 224 1248 192
WIRE 1312 224 1248 224
WIRE 32 256 32 160
WIRE 32 256 -16 256
WIRE 704 256 704 128
WIRE 704 256 672 256
WIRE 1024 256 1024 208
WIRE 1024 256 704 256
WIRE -288 272 -416 272
WIRE -16 272 -16 256
WIRE -16 272 -64 272
WIRE 1088 320 1088 176
WIRE 1248 320 1248 224
WIRE 1248 320 1088 320
WIRE -352 336 -352 -32
WIRE -288 336 -352 336
WIRE 32 336 -64 336
WIRE 704 368 704 256
WIRE 704 368 672 368
WIRE -368 400 -368 160
WIRE -288 400 -368 400
WIRE -48 400 -64 400
WIRE -416 448 -416 272
WIRE 32 448 32 336
WIRE 32 448 -416 448
WIRE -416 464 -416 448
WIRE -48 480 -48 400
WIRE -848 544 -848 240
WIRE -512 544 -512 208
WIRE -512 544 -848 544
WIRE -416 544 -416 528
WIRE -416 544 -512 544
WIRE -48 544 -416 544
WIRE -416 592 -416 544
WIRE 272 704 -352 704
WIRE -672 736 -672 704
WIRE -672 736 -848 736
WIRE -848 752 -848 736
WIRE -672 768 -672 736
WIRE -720 784 -752 784
WIRE 48 784 -32 784
WIRE 48 816 48 784
WIRE 48 816 32 816
WIRE -848 848 -848 832
WIRE -752 848 -752 784
WIRE -752 848 -848 848
WIRE -848 880 -848 848
WIRE -672 896 -672 864
WIRE -368 896 -672 896
WIRE -32 896 -32 784
WIRE -32 896 -368 896
WIRE -1088 928 -1088 192
WIRE -1008 928 -1088 928
WIRE -912 928 -928 928
WIRE -288 944 -512 944
WIRE -32 944 -32 896
WIRE -32 944 -64 944
WIRE 32 992 32 896
WIRE 32 992 -16 992
WIRE -288 1008 -416 1008
WIRE -16 1008 -16 992
WIRE -16 1008 -64 1008
WIRE -1088 1040 -1088 928
WIRE -672 1040 -1088 1040
WIRE -672 1072 -672 1040
WIRE -352 1072 -352 704
WIRE -288 1072 -352 1072
WIRE 32 1072 -64 1072
WIRE -368 1136 -368 896
WIRE -288 1136 -368 1136
WIRE -48 1136 -64 1136
WIRE -416 1184 -416 1008
WIRE 32 1184 32 1072
WIRE 32 1184 -416 1184
WIRE -416 1200 -416 1184
WIRE -48 1216 -48 1136
WIRE -848 1280 -848 976
WIRE -672 1280 -672 1152
WIRE -672 1280 -848 1280
WIRE -512 1280 -512 944
WIRE -512 1280 -672 1280
WIRE -416 1280 -416 1264
WIRE -416 1280 -512 1280
WIRE -48 1280 -416 1280
WIRE -416 1328 -416 1280
FLAG -1360 32 VCC
FLAG -416 1328 0
FLAG 272 704 OUT
FLAG -672 704 VCC
FLAG 592 128 OUT
FLAG -1360 112 0
FLAG -416 592 0
FLAG 272 -32 OUT2
FLAG -672 -32 VCC
FLAG 1312 224 MIX
FLAG -1504 32 5V
FLAG -1504 112 0
FLAG 1168 224 0
FLAG -416 -64 0
FLAG 272 -688 OUT3
FLAG -672 -688 VCC
FLAG 1168 160 5V
FLAG 592 256 OUT2
FLAG 592 368 OUT3
SYMBOL voltage -1360 16 R0
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL Misc\\NE555 -176 1040 R0
SYMATTR InstName U2
SYMBOL cap -64 1216 R0
SYMATTR InstName C3
SYMATTR Value 0.01µ
SYMBOL polcap -432 1200 R0
SYMATTR InstName C4
SYMATTR Value 300n
SYMBOL res 16 800 R0
SYMATTR InstName R3
SYMATTR Value 1k
SYMBOL res 16 976 R0
SYMATTR InstName R4
SYMATTR Value 10.4318k
SYMBOL voltage -672 1056 R0
WINDOW 3 -331 251 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 3.3 0.02 0.0001 0.0001 0.055)
SYMATTR InstName V3
SYMBOL res 688 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL res 688 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL pmos -720 864 M180
SYMATTR InstName M1
SYMATTR Value BSS84
SYMBOL npn -912 880 R0
SYMATTR InstName Q1
SYMBOL res -912 912 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 10k
SYMBOL res -864 736 R0
SYMATTR InstName R9
SYMATTR Value 10k
SYMBOL Misc\\NE555 -176 304 R0
SYMATTR InstName U1
SYMBOL cap -64 480 R0
SYMATTR InstName C1
SYMATTR Value 0.01µ
SYMBOL polcap -432 464 R0
SYMATTR InstName C2
SYMATTR Value 150n
SYMBOL res 16 64 R0
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL res 16 240 R0
SYMATTR InstName R2
SYMATTR Value 10.4318k
SYMBOL pmos -720 128 M180
SYMATTR InstName M2
SYMATTR Value BSS84
SYMBOL npn -912 144 R0
SYMATTR InstName Q2
SYMBOL res -912 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 1k
SYMBOL res -864 0 R0
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL voltage -1504 16 R0
SYMATTR InstName V4
SYMATTR Value 5
SYMBOL Misc\\NE555 -176 -352 R0
SYMATTR InstName U3
SYMBOL cap -64 -176 R0
SYMATTR InstName C5
SYMATTR Value 0.01µ
SYMBOL polcap -432 -192 R0
SYMATTR InstName C6
SYMATTR Value 75n
SYMBOL res 16 -592 R0
SYMATTR InstName R11
SYMATTR Value 1k
SYMBOL res 16 -416 R0
SYMATTR InstName R12
SYMATTR Value 10.4318k
SYMBOL pmos -720 -528 M180
SYMATTR InstName M3
SYMATTR Value BSS84
SYMBOL npn -912 -512 R0
SYMATTR InstName Q3
SYMBOL res -912 -480 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 1k
SYMBOL res -864 -656 R0
SYMATTR InstName R14
SYMATTR Value 10k
SYMBOL res 688 352 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 10k
SYMBOL OpAmps\\opamp2 1168 128 R0
SYMATTR InstName U4
SYMATTR Value LMV358A
TEXT -1424 176 Left 2 !.tran 0.1
TEXT 752 544 Left 2 !.SUBCKT TL074    1 2 3 4 5\n  C1   11 12 3.498E-12\n  C2    6  7 15.00E-12\n  DC    5 53 DX\n  DE   54  5 DX\n  DLP  90 91 DX\n  DLN  92 90 DX\n  DP    4  3 DX\n  EGND 99  0 POLY(2) (3,0) (4,0) 0 .5 .5\n  FB    7 99 POLY(5) VB VC VE VLP VLN 0 4.715E6 -5E6 5E6 5E6 -5E6\n  GA    6  0 11 12 282.8E-6\n  GCM   0  6 10 99 8.942E-9\n  ISS   3 10 DC 195.0E-6\n  HLIM 90  0 VLIM 1K\n  J1   11  2 10 JX\n  J2   12  1 10 JX\n  R2    6  9 100.0E3\n  RD1   4 11 3.536E3\n  RD2   4 12 3.536E3\n  RO1   8  5 150\n  RO2   7 99 150\n  RP    3  4 2.143E3\n  RSS  10 99 1.026E6\n  VB    9  0 DC 0\n  VC    3 53 DC 2.200\n  VE   54  4 DC 2.200\n  VLIM  7  8 DC 0\n  VLP  91  0 DC 25\n  VLN   0 92 DC 25\n.MODEL DX D(IS=800.0E-18)\n.MODEL JX PJF(IS=15.00E-12 BETA=270.1E-6 VTO=-1)\n.ENDS
TEXT 1664 528 Left 2 !* LMV358A - Rev. B\n* Created by Paul Goedeke; May 01, 2018 - Revised by GPAMPS Team; 2021-06-29\n* Created with Green-Williams-Lis Op Amp Macro-model Architecture\n* Copyright 2018 by Texas Instruments Corporation\n******************************************************\n* MACRO-MODEL SIMULATED PARAMETERS:\n******************************************************\n* OPEN-LOOP GAIN AND PHASE VS. FREQUENCY  WITH RL, CL EFFECTS (Aol)\n* UNITY GAIN BANDWIDTH (GBW)\n* INPUT COMMON-MODE REJECTION RATIO VS. FREQUENCY (CMRR)\n* POWER SUPPLY REJECTION RATIO VS. FREQUENCY (PSRR)\n* DIFFERENTIAL INPUT IMPEDANCE (Zid)\n* COMMON-MODE INPUT IMPEDANCE (Zic)\n* OPEN-LOOP OUTPUT IMPEDANCE VS. FREQUENCY (Zo)\n* OUTPUT CURRENT THROUGH THE SUPPLY (Iout)\n* INPUT VOLTAGE NOISE DENSITY VS. FREQUENCY (en)\n* INPUT CURRENT NOISE DENSITY VS. FREQUENCY (in)\n* OUTPUT VOLTAGE SWING vs. OUTPUT CURRENT (Vo)\n* SHORT-CIRCUIT OUTPUT CURRENT (Isc)\n* QUIESCENT CURRENT (Iq)\n* SETTLING TIME VS. CAPACITIVE LOAD (ts)\n* SLEW RATE (SR)\n* SMALL SIGNAL OVERSHOOT VS. CAPACITIVE LOAD\n* LARGE SIGNAL RESPONSE\n* OVERLOAD RECOVERY TIME (tor)\n* INPUT BIAS CURRENT (Ib)\n* INPUT OFFSET CURRENT (Ios)\n* INPUT OFFSET VOLTAGE (Vos)\n* INPUT COMMON-MODE VOLTAGE RANGE (Vcm)\n* INPUT OFFSET VOLTAGE VS. INPUT COMMON-MODE VOLTAGE (Vos vs. Vcm)\n* INPUT/OUTPUT ESD CELLS (ESDin, ESDout)\n******************************************************\n.subckt LMV358A IN+ IN- VCC VEE OUT\n******************************************************\n* MODEL DEFINITIONS:\n.model BB_SW VSWITCH(Ron=50 Roff=1e12 Von=700e-3 Voff=0)\n.model ESD_SW VSWITCH(Ron=50 Roff=1e12 Von=250e-3 Voff=0)\n.model OL_SW VSWITCH(Ron=1e-3 Roff=1e9 Von=900e-3 Voff=800e-3)\n.model OR_SW VSWITCH(Ron=10e-3 Roff=1e9 Von=1e-3 Voff=0)\n.model R_NOISELESS RES(T_ABS=-273.15)\n******************************************************\n \n\nI_OS        ESDn MID 7P\nI_B         33 MID 10P\nV_GRp       58 MID 180\nV_GRn       59 MID -180\nV_ISCp      52 MID 42\nV_ISCn      53 MID -42\nV_ORn       41 VCLP -1.22\nV11         57 40 0\nV_ORp       39 VCLP 1.22\nV12         56 38 0\nV4          29 OUT 0\nVCM_MIN     79 VEE_B -100M\nVCM_MAX     80 VCC_B 100M\nI_Q         VCC VEE 80U\nV_OS        22 33 996U\nXVOS_VCM    21 22 VCC VEE VOS_SRC_0\nC30         23 24 15.92U  \nR85         24 MID R_NOISELESS 30K \nR84         24 23 R_NOISELESS 10K \nR83         23 MID R_NOISELESS 1 \nGVCCS10     26 MID 25 MID  -1\nC29         27 MID 19.89F  \nR82         25 27 R_NOISELESS 10K \nR81         25 28 R_NOISELESS 70K \nR80         28 MID R_NOISELESS 1 \nGVCCS9      28 MID 24 MID  -3.8\nGVCCS4      23 MID CL_CLAMP 29  -87\nR79         30 MID R_NOISELESS 1 \nXU1         31 MID MID 30 VCCS_LIM_ZO_0\nR78         31 MID R_NOISELESS 101 \nC22         31 26 15.92F \nR65         31 26 R_NOISELESS 10K \nR64         26 MID R_NOISELESS 1 \nR63         29 30 R_NOISELESS 400K \nXCLAWn      MID VIMON VEE_B 32 VCCS_LIM_CLAW-_0\nXe_n        ESDp 33 VNSE_0\nXi_nn       ESDn MID FEMT_0_0\nXi_np       MID 33 FEMT_0_0\nS5          VEE ESDp VEE ESDp  S_VSWITCH_1\nS4          VEE ESDn VEE ESDn  S_VSWITCH_2\nS2          ESDn VCC ESDn VCC  S_VSWITCH_3\nS3          ESDp VCC ESDp VCC  S_VSWITCH_4\nC28         34 MID 1P \nR77         35 34 R_NOISELESS 100 \nC27         36 MID 1P \nR76         37 36 R_NOISELESS 100 \nR75         MID 38 R_NOISELESS 1 \nGVCCS8      38 MID 39 MID  -1\nR74         40 MID R_NOISELESS 1 \nGVCCS7      40 MID 41 MID  -1\nC25         42 MID 25F \nR69         MID 42 R_NOISELESS 1MEG \nGVCCS6      42 MID VSENSE MID  -1U\nC20         CLAMP MID 151.6N \nR68         MID CLAMP R_NOISELESS 1MEG \nXVCCS_LIM_2 43 MID MID CLAMP VCCS_LIM_2_0\nR44         MID 43 R_NOISELESS 1MEG \nXVCCS_LIM_1 44 45 MID 43 VCCS_LIM_1_0\nRdummy      MID 29 R_NOISELESS 40K \nR61         MID 46 R_NOISELESS 273.3609 \nC16         46 47 1.1018N \nR58         47 46 R_NOISELESS 100MEG \nGVCCS2      47 MID VEE_B MID  -258.98M\nR57         MID 47 R_NOISELESS 1 \nR56         MID 48 R_NOISELESS 273.3609 \nC15         48 49 1.1018N \nR55         49 48 R_NOISELESS 100MEG \nGVCCS1      49 MID VCC_B MID  -258.98M\nR54         MID 49 R_NOISELESS 1 \nR49         MID 50 R_NOISELESS 337.4K \nC14         50 51 591.7F \nR48         51 50 R_NOISELESS 100MEG \nG_adjust    51 MID ESDp MID  -44.81M\nRsrc        MID 51 R_NOISELESS 1 \nXIQPos      VIMON MID MID VCC VCCS_LIMIT_IQ_0\nXIQNeg      MID VIMON VEE MID VCCS_LIMIT_IQ_0\nC_DIFF      ESDp ESDn 1P \nXCL_AMP     52 53 VIMON MID 54 55 CLAMP_AMP_LO_0\nSOR_SWp     CLAMP 56 CLAMP 56  S_VSWITCH_5\nSOR_SWn     57 CLAMP 57 CLAMP  S_VSWITCH_6\nXGR_AMP     58 59 60 MID 61 62 CLAMP_AMP_HI_0\nR39         58 MID R_NOISELESS 1T \nR37         59 MID R_NOISELESS 1T \nR42         VSENSE 60 R_NOISELESS 1M \nC19         60 MID 1F \nR38         61 MID R_NOISELESS 1 \nR36         MID 62 R_NOISELESS 1 \nR40         61 63 R_NOISELESS 1M \nR41         62 64 R_NOISELESS 1M \nC17         63 MID 1F \nC18         MID 64 1F \nXGR_SRC     63 64 CLAMP MID VCCS_LIM_GR_0\nR21         54 MID R_NOISELESS 1 \nR20         MID 55 R_NOISELESS 1 \nR29         54 65 R_NOISELESS 1M \nR30         55 66 R_NOISELESS 1M \nC9          65 MID 1F \nC8          MID 66 1F \nXCL_SRC     65 66 CL_CLAMP MID VCCS_LIM_4_0\nR22         52 MID R_NOISELESS 1T \nR19         MID 53 R_NOISELESS 1T \nXCLAWp      VIMON MID 67 VCC_B VCCS_LIM_CLAW+_0\nR12         67 VCC_B R_NOISELESS 1K \nR16         67 68 R_NOISELESS 1M \nR13         VEE_B 32 R_NOISELESS 1K \nR17         69 32 R_NOISELESS 1M \nC6          69 MID 1F \nC5          MID 68 1F \nG2          VCC_CLP MID 68 MID  -1M\nR15         VCC_CLP MID R_NOISELESS 1K \nG3          VEE_CLP MID 69 MID  -1M\nR14         MID VEE_CLP R_NOISELESS 1K \nXCLAW_AMP   VCC_CLP VEE_CLP VOUT_S MID 70 71 CLAMP_AMP_LO_0\nR26         VCC_CLP MID R_NOISELESS 1T \nR23         VEE_CLP MID R_NOISELESS 1T \nR25         70 MID R_NOISELESS 1 \nR24         MID 71 R_NOISELESS 1 \nR27         70 72 R_NOISELESS 1M \nR28         71 73 R_NOISELESS 1M \nC11         72 MID 1F \nC10         MID 73 1F \nXCLAW_SRC   72 73 CLAW_CLAMP MID VCCS_LIM_3_0\nH2          37 MID V11 -1\nH3          35 MID V12 1\nC12         SW_OL MID 100P \nR32         74 SW_OL R_NOISELESS 100 \nR31         74 MID R_NOISELESS 1 \nXOL_SENSE   MID 74 36 34 OL_SENSE_0\nS1          23 24 SW_OL MID  S_VSWITCH_7\nH1          75 MID V4 1K\nS7          VEE OUT VEE OUT  S_VSWITCH_8\nS6          OUT VCC OUT VCC  S_VSWITCH_9\nR11         MID 76 R_NOISELESS 1T \nR18         76 VOUT_S R_NOISELESS 100 \nC7          VOUT_S MID 1P \nE5          76 MID OUT MID  1\nC13         VIMON MID 1N \nR33         75 VIMON R_NOISELESS 100 \nR10         MID 75 R_NOISELESS 1T \nR47         77 VCLP R_NOISELESS 100 \nC24         VCLP MID 100P \nE4          77 MID CL_CLAMP MID  1\nR46         MID CL_CLAMP R_NOISELESS 1K \nG9          CL_CLAMP MID CLAW_CLAMP MID  -1M\nR45         MID CLAW_CLAMP R_NOISELESS 1K \nG8          CLAW_CLAMP MID 42 MID  -1M\nR43         MID VSENSE R_NOISELESS 1K \nG15         VSENSE MID CLAMP MID  -1M\nC4          44 MID 1F \nR9          44 78 R_NOISELESS 1M \nR7          MID 79 R_NOISELESS 1T \nR6          80 MID R_NOISELESS 1T \nR8          MID 78 R_NOISELESS 1 \nXVCM_CLAMP  81 MID 78 MID 80 79 VCCS_EXT_LIM_0\nE1          MID 0 82 0  1\nR89         VEE_B 0 R_NOISELESS 1 \nR5          83 VEE_B R_NOISELESS 1M \nC3          83 0 1F \nR60         82 83 R_NOISELESS 1MEG \nC1          82 0 100e-9 \nR3          82 0 R_NOISELESS 1T \nR59         84 82 R_NOISELESS 1MEG \nC2          84 0 1F \nR4          VCC_B 84 R_NOISELESS 1M \nR88         VCC_B 0 R_NOISELESS 1 \nG17         VEE_B 0 VEE 0  -1\nG16         VCC_B 0 VCC 0  -1\nR_PSR       85 81 R_NOISELESS 1K \nG_PSR       81 85 48 46  -1M\nR2          45 ESDn R_NOISELESS 1M \nR1          85 86 R_NOISELESS 1M \nR_CMR       21 86 R_NOISELESS 1K \nG_CMR       86 21 50 MID  -1M\nC_CMn       ESDn MID 5P \nC_CMp       MID ESDp 5P \nR53         ESDn MID R_NOISELESS 1T \nR52         MID ESDp R_NOISELESS 1T \nR35         IN- ESDn R_NOISELESS 10M \nR34         IN+ ESDp R_NOISELESS 10M \n \n.MODEL S_VSWITCH_1 VSWITCH (RON=50 ROFF=1T VON=500M VOFF=100M)\n.MODEL S_VSWITCH_2 VSWITCH (RON=50 ROFF=1T VON=500M VOFF=100M)\n.MODEL S_VSWITCH_3 VSWITCH (RON=50 ROFF=1T VON=500M VOFF=100M)\n.MODEL S_VSWITCH_4 VSWITCH (RON=50 ROFF=1T VON=500M VOFF=100M)\n.MODEL S_VSWITCH_5 VSWITCH (RON=10M ROFF=1T VON=10M VOFF=0)\n.MODEL S_VSWITCH_6 VSWITCH (RON=10M ROFF=1T VON=10M VOFF=0)\n.MODEL S_VSWITCH_7 VSWITCH (RON=1M ROFF=1T VON=500M VOFF=100M)\n.MODEL S_VSWITCH_8 VSWITCH (RON=50 ROFF=1T VON=500M VOFF=100M)\n.MODEL S_VSWITCH_9 VSWITCH (RON=50 ROFF=1T VON=500M VOFF=100M)\n \n.ENDS LMV358A\n*\n.SUBCKT VOS_SRC_0  V+ V- REF+ REF-\nE1 V+ 1 TABLE {(V(REF+, V-))} =\n+(0, 0.8E-3)\n+(1, 0.8E-3)\n+(1.3, 0)\n+(5.5, 0)\nE2 1 V- TABLE {(V(V-, REF-))}=\n+(-0.7, -2E-4)\n+(-0.5, -2E-4)\n+(-0.4, 0)\n+(5.5, 0)\n.ENDS VOS_SRC_0 \n*\n \n\n.SUBCKT VCCS_LIM_ZO_0  VC+ VC- IOUT+ IOUT-\n.PARAM GAIN = 100\n.PARAM IPOS = 35E3\n.PARAM INEG = -35E3\nG1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}\n.ENDS\n*\n \n\n.SUBCKT VCCS_LIM_CLAW-_0  VC+ VC- IOUT+ IOUT-\nG1 IOUT+ IOUT- TABLE {ABS(V(VC+,VC-))} =\n+(00.0000, 0.00001)\n+(14.0000, 0.000379)\n+(28.0000, 0.000877)\n+(37.3333, 0.001382)\n+(37.8000, 0.00142)\n+(38.7333, 0.001493)\n+(39.6667, 0.001583)\n+(40.6000, 0.001703)\n+(41.5333, 0.00191)\n+(42.0000, 0.00204)\n.ENDS VCCS_LIM_CLAW-_0 \n*\n \n\n.SUBCKT VNSE_0  1 2\n.PARAM FLW=10\n.PARAM NLF=115\n.PARAM NVR=27\n.PARAM GLF={PWR(FLW,0.25)*NLF/1164}\n.PARAM RNV={1.184*PWR(NVR,2)}\n.MODEL DVN D KF={PWR(FLW,0.5)/1E11} IS=1.0E-16\nI1 0 7 10E-3\nI2 0 8 10E-3\nD1 7 0 DVN\nD2 8 0 DVN\nE1 3 6 7 8 {GLF}\nR1 3 0 1E9\nR2 3 0 1E9\nR3 3 6 1E9\nE2 6 4 5 0 10\nR4 5 0 {RNV}\nR5 5 0 {RNV}\nR6 3 4 1E9\nR7 4 0 1E9\nE3 1 2 3 4 1\n.ENDS\n*\n \n\n.SUBCKT FEMT_0_0   1 2\n.PARAM FLWF=0.001\n.PARAM NLFF=25\n.PARAM NVRF=23\n.PARAM GLFF={PWR(FLWF,0.25)*NLFF/1164}\n.PARAM RNVF={1.184*PWR(NVRF,2)}\n.MODEL DVNF D KF={PWR(FLWF,0.5)/1E11} IS=1.0E-16\nI1 0 7 10E-3\nI2 0 8 10E-3\nD1 7 0 DVNF\nD2 8 0 DVNF\nE1 3 6 7 8 {GLFF}\nR1 3 0 1E9\nR2 3 0 1E9\nR3 3 6 1E9\nE2 6 4 5 0 10\nR4 5 0 {RNVF}\nR5 5 0 {RNVF}\nR6 3 4 1E9\nR7 4 0 1E9\nG1 1 2 3 4 1E-6\n.ENDS\n*\n \n\n.SUBCKT VCCS_LIM_2_0  VC+ VC- IOUT+ IOUT-\n.PARAM GAIN = 11.15E-3\n.PARAM IPOS = 0.300\n.PARAM INEG = -0.300\nG1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}\n.ENDS\n*\n \n\n.SUBCKT VCCS_LIM_1_0  VC+ VC- IOUT+ IOUT-\n.PARAM GAIN = 1E-4\n.PARAM IPOS = .5\n.PARAM INEG = -.5\nG1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}\n.ENDS\n*\n \n\n.SUBCKT VCCS_LIMIT_IQ_0  VC+ VC- IOUT+ IOUT-\n.PARAM GAIN = 1E-3\nG1 IOUT- IOUT+ VALUE={IF( (V(VC+,VC-)<=0),0,GAIN*V(VC+,VC-) )}\n.ENDS\n*\n \n\n.SUBCKT CLAMP_AMP_LO_0  VC+ VC- VIN COM VO+ VO-\n.PARAM G=1\nGVO+ COM VO+ VALUE = {IF(V(VIN,COM)>V(VC+,COM),((V(VIN,COM)-V(VC+,COM))*G),0)}\nGVO- COM VO- VALUE = {IF(V(VIN,COM)<V(VC-,COM),((V(VC-,COM)-V(VIN,COM))*G),0)}\n.ENDS\n*\n \n\n.SUBCKT CLAMP_AMP_HI_0  VC+ VC- VIN COM VO+ VO-\n.PARAM G=10\nGVO+ COM VO+ VALUE = {IF(V(VIN,COM)>V(VC+,COM),((V(VIN,COM)-V(VC+,COM))*G),0)}\nGVO- COM VO- VALUE = {IF(V(VIN,COM)<V(VC-,COM),((V(VC-,COM)-V(VIN,COM))*G),0)}\n.ENDS\n*\n \n\n.SUBCKT VCCS_LIM_GR_0  VC+ VC- IOUT+ IOUT-\n.PARAM GAIN = 1\n.PARAM IPOS = 0.7\n.PARAM INEG = -0.7\nG1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}\n.ENDS\n*\n \n\n.SUBCKT VCCS_LIM_4_0  VC+ VC- IOUT+ IOUT-\n.PARAM GAIN = 1\n.PARAM IPOS = 0.8\n.PARAM INEG = -0.8\nG1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}\n.ENDS\n*\n \n\n.SUBCKT VCCS_LIM_CLAW+_0  VC+ VC- IOUT+ IOUT-\nG1 IOUT+ IOUT- TABLE {ABS(V(VC+,VC-))} =\n+(00.00, 0.000010)\n+(13.67, 0.0003467)\n+(27.33, 0.0007994)\n+(36.44, 0.001309)\n+(36.90, 0.001351)\n+(37.81, 0.001455)\n+(38.72, 0.001600)\n+(39.63, 0.001812)\n+(40.54, 0.002117)\n+(41.00, 0.002292)\n.ENDS VCCS_LIM_CLAW+_0 \n*\n \n\n.SUBCKT VCCS_LIM_3_0  VC+ VC- IOUT+ IOUT-\n.PARAM GAIN = 1\n.PARAM IPOS = 0.400\n.PARAM INEG = -0.400\nG1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VC+,VC-),INEG,IPOS)}\n.ENDS\n*\n \n\n.SUBCKT OL_SENSE_0  COM SW+ OLN  OLP\nGSW+ COM SW+ VALUE = {IF((V(OLN,COM)>10E-3 | V(OLP,COM)>10E-3),1,0)}\n.ENDS\n*\n \n\n.SUBCKT VCCS_EXT_LIM_0  VIN+ VIN- IOUT- IOUT+ VP+ VP-\n.PARAM GAIN = 1\nG1 IOUT+ IOUT- VALUE={LIMIT(GAIN*V(VIN+,VIN-),V(VP-,VIN-), V(VP+,VIN-))}\n.ENDS\n*
TEXT 2776 520 Left 2 !* WARNING : please consider following remarks before usage *\n* 1) All models are a tradeoff between accuracy and complexity (ie. simulation \n*    time).\n* 2) Macromodels are not a substitute to breadboarding, they rather confirm the\n*    validity of a design approach and help to select surrounding component values.\n*\n* 3) A macromodel emulates the NOMINAL performance of a TYPICAL device within\n*    SPECIFIED OPERATING CONDITIONS (ie. temperature, supply voltage, etc.).\n*    Thus the macromodel is often not as exhaustive as the datasheet, its goal \n*    is to illustrate the main parameters of the product.\n*\n* 4) Data issued from macromodels used outside of its specified conditions \n*    (Vcc, Temperature, etc) or even worse: outside of the device operating \n*    conditions (Vcc, Vicm, etc) are not reliable in any way.\n*-----------------------------------------------------------------------------------------\n** Standard Linear Ics Macromodels, 1996.\n** CONNECTIONS :\n* 1 INVERTING INPUT\n* 2 NON-INVERTING INPUT\n* 3 OUTPUT\n* 4 POSITIVE POWER SUPPLY\n* 5 NEGATIVE POWER SUPPLY\n*\n.SUBCKT TS92X 1 2 3 4 5 \n*\n.MODEL MDTH D IS=1E-8 KF=2.664234E-16 CJO=10F\n*\n* INPUT STAGE\nCIP 2 5 1.000000E-12\nCIN 1 5 1.000000E-12\nEIP 10 5 2 5 1\nEIN 16 5 1 5 1\nRIP 10 11 8.125000E+00\nRIN 15 16 8.125000E+00\nRIS 11 15 2.238465E+02\nDIP 11 12 MDTH 400E-12\nDIN 15 14 MDTH 400E-12\nVOFP 12 13 DC 153.5u\nVOFN 13 14 DC 0\nIPOL 13 5 3.200000E-05\nCPS 11 15 1e-9\nDINN 17 13 MDTH 400E-12\nVIN 17 5 -0.100000e+00\nDINR 15 18 MDTH 400E-12\nVIP 4 18 0.400000E+00\nFCP 4 5 VOFP 1.865000E+02\nFCN 5 4 VOFN 1.865000E+02\nFIBP 2 5 VOFP 6.250000E-03\nFIBN 5 1 VOFN 6.250000E-03\n* GM1 STAGE ***************\nFGM1P 119 5 VOFP 1.1\nFGM1N 119 5 VOFN 1.1\nRAP 119 4 2.6E+06\nRAN 119 5 2.6E+06\n* GM2 STAGE *************** \nG2P 19 5 119 5 1.92E-02\nG2N 19 5 119 4 1.92E-02\nR2P 19 4 1E+07\nR2N 19 5 1E+07\n**************************\nVINT1 500 0 5\nGCONVP 500 501 119 4 19.38 \nVP 501 0 0\nGCONVN 500 502 119 5 19.38 \nVN 502 0 0\n********* orientation isink isource *******\nVINT2 503 0 5\nFCOPY 503 504 VOUT 1\nDCOPYP 504 505 MDTH 400E-9\nVCOPYP 505 0 0\nDCOPYN 506 504 MDTH 400E-9\nVCOPYN 0 506 0\n***************************\nF2PP 19 5 poly(2) VCOPYP VP 0 0 0 0 0.5 \nF2PN 19 5 poly(2) VCOPYP VN 0 0 0 0 0.5 \nF2NP 19 5 poly(2) VCOPYN VP 0 0 0 0 1.75 \nF2NN 19 5 poly(2) VCOPYN VN 0 0 0 0 1.75 \n* COMPENSATION ************\nCC 19 119 25p\n* OUTPUT ***********\nDOPM 19 22 MDTH 400E-12\nDONM 21 19 MDTH 400E-12\nHOPM 22 28 VOUT 6.250000E+02\nVIPM 28 4 5.000000E+01\nHONM 21 27 VOUT 6.250000E+02\nVINM 5 27 5.000000E+01\nVOUT 3 23 0\nROUT 23 19 6\nCOUT 3 5 1.300000E-10\nDOP 19 25 MDTH 400E-12\nVOP 4 25 1.052\nDON 24 19 MDTH 400E-12\nVON 24 5 1.052\n.ENDS ;TS92X
